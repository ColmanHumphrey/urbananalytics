gCentroid(OneBlock)
plot(OneBlock)
plot(gCentroid(OneBlock), add = TRUE, col = 2)
phillycenter = gCentroid(OneBlock)
spDists(OneBlock, phillycenter)
spDists(OneBlock, phillycenter, longlat = TRUE)
spDists(c(-75.290390, 39.854604), phillycenter, longlat = TRUE)
spDists(SpatialPoints(c(-75.290390, 39.854604)), phillycenter, longlat = TRUE)
spDists(SpatialPoints(matrix(c(-75.290390, 39.854604), 1)), phillycenter, longlat = TRUE)
phillycenter
as.numeric(phillycenter)
attributes(phillycenter)
phillycenter$coords
phillycenter@coords
as.numeric(phillycenter@coords)
phillycenter * 2
phillycenter
str(phillycenter)
phillycenter
bl
phillcenter - bl
phillycenter - bl
phillycenter - tr
phillycenter
phillycenter[1]
xcoords
ycoodrs
ycoords
ptsmat
plot(OneBlock)
plot(ptsmat, add = TRUE, col = 2)
plot(OneBlock)
plot(SpatialPoints(ptsmat), add = TRUE, col = 2)
length(ptsmat)
nrow(ptsmat)
1:4
(-1)^(1:4)
(-1)^(i + i %% 2)
1:4 %% 2
1:4 %% 2 + 1:4
1:4 %% 2 - 1:4
1:4 %% 4
1:12 %% 4
(1:12 %% 4) %% 3
(-1)^(1:4)
5 %% 2
5 %/% 2
10 %/% 2
1:4 %/% 2
1:20 %/% 2
(1:20 %/% 2) %% 2
((1:20-1) %/% 2) %% 2
CreateSquares(phillycenter, 0.1)
ptsmat
i = 1
squaremat
plot(phillysquares)
plot(phillysquares[1,])
plot(OneBlock)
i = 1
plot(CreateSquare(ptsmat[i,], lldist / (Nsplit -1), add = TRUE, col = 2)
plot(CreateSquare(ptsmat[i,], lldist / (Nsplit -1)), add = TRUE, col = 2)
plot(OneBlock)
plot(SpatialPoints(CreateSquare(ptsmat[i,], lldist / (Nsplit -1))), add = TRUE, col = 2)
i
i = 20 * 10 + 10
plot(SpatialPoints(CreateSquare(ptsmat[i,], lldist / (Nsplit -1))), add = TRUE, col = 2)
spDistsN1(CreateSquare(ptsmat[i,], lldist / (Nsplit -1)), ptsmat[i,])
i
(((i - 1) %/% 2) %% 2)
i
i = 1:4
(((i - 1) %/% 2) %% 2)
(2 * (((i - 1) %/% 2) %% 2) - 1)
plot(OneBlock)
plot(SpatialPoints(CreateSquare(ptsmat[i,], lldist / (Nsplit -1))), add = TRUE, col = 2)
i
i = 20 * 10 + 10
i
plot(SpatialPoints(CreateSquare(ptsmat[i,], lldist / (Nsplit -1))), add = TRUE, col = 2)
spDistsN1(CreateSquare(ptsmat[i,], lldist / (Nsplit -1)), ptsmat[i,])
i = 1:4
(2 * ((i %/% 2) %% 2) - 1)
plot(phillysquares)
plot(OneBlock)
plot(phillysquares, add = TRUE, col = 2)
plot(phillysquares, add = TRUE, outline = 'red')
plot(OneBlock)
plot(phillysquares, add = TRUE, outline = 2)
warnings()
plot(OneBlock)
plot(phillysquares, add = TRUE, border = "red")
plot(SpatialPoints(ptsmat), col = 3, add = TRUE)
gArea(OneBlock)
plot(phillysquaresborder = "red")
plot(phillysquares, border = "red")
plot(OneBlock, add = TRUE)
plot(SpatialPoints(ptsmat), col = 3, add = TRUE)
gContains(phillysquares, OneBlock)
gContains(phillysquares, OneBlock, byid = TRUE)
colsq = gContains(phillysquares, OneBlock, byid = TRUE)
plot(SpatialPoints(ptsmat), col = colsq, add = TRUE)
plot(SpatialPoints(ptsmat), col = colsq)
plot(SpatialPoints(ptsmat), col = 2 * colsq + 1)
colsq[1:10]
sum(colsq)
colsq = gContains(OneBlock, phillysquares, byid = TRUE)
sum(colsq)
plot(SpatialPoints(ptsmat), col = 2 * colsq + 1)
plot(OneBlock, col = 2, add = TRUE)
plot(SpatialPoints(ptsmat), col = 2 * colsq + 1)
plot(OneBlock, border = 2, add = TRUE)
plot(phillysquares, border = "blue", add = TRUE)
gIntersects(OneBlock, phillysquares)
gIntersects(OneBlock, phillysquares, byid = TRUE)
sum(gIntersects(OneBlock, phillysquares, byid = TRUE))
sum(fullcover)
gArea(phillysquares[fullcover,])
gArea(OneBlock)
0.5 * gArea(phillysquares[fullcover,]) + 0.5 * gArea(phillysquares[somecover,])
plot(phillysquares)
plot(phillysquares, border = rep("red", 400))
plot(phillysquares, border = rep(c("red", "blue"), 200))
spDistsN1(phillysquares[1,], ptsmat[1,])
spDistsN1(CreateSquare(ptsmat[1,], lldist / (Nsplit -1)), ptsmat[1,])
spDistsN1(CreateSquare(ptsmat[1,], lldist / (Nsplit -1)), ptsmat[1,], longlat = TRUE)
distmat <- matrix(NA, 400, 4)
for(i in 1:400){distmat[i,] = spDistsN1(CreateSquare(ptsmat[i,], lldist / (Nsplit -1)), ptsmat[i,], longlat = TRUE)}
distmat
plot(distmat[1,])
plot(distmat[,1])
plot(distmat[,2])
plot(distmat[,2], distmat[,1])
max(distmat)
min(distmat)
length(unique(distmat))
geodist
spDistsN1(ptsmat[1,], ptsmat[2,])
spDistsN1(ptsmat[1:2,], ptsmat[2:3,])
ptsmat[1:2,]
ptsmat[1:3,]
spDistsN1(ptsmat[1:2,], ptsmat[2,])
length(phillysquares)
sum(fullcover)
sum(somecover)
0.5 * gArea(phillysquares[somecover,])
0.5 * gArea(phillysquares[somecover,]) + 0.5 * gArea(phillysquares[fullcover,])
gArea(OneBlock)
distmat[1:20,]
max(distmat)
min(distmat)
min(distmat) - max(distmat)
length(unique(distmat))
1.48 / 5
max(distmat)
min(distmat)
max(distmat) / min(distmat)
1500 / 5
1.48 / 5
0.283 * 5
99 / 19
0.283 * 5.210526
nrow(distmat)
max(distmat)
min(distmat)
min(distmat) / (99 / 20)
1.4 * 1.05
plot(phillysquares)
plot(phillysquares)
plot(OneBlock, add = TRUE, col = 2)
max(distmat)
min(distmat)
pi
400 * 200
100 * 200
str(lottdata)
dim(phillypts)
phillypts[128,]
spDistsN1(phillypts[128:129,], c(-74.983,40.07134))
spDistsN1(phillypts[128:129,], c(-74.983,40.07134), longlat = TRUE)
spDistsN1(c(-74.983,40.07134),c(-74.983,40.07164), longlat = TRUE)
spDistsN1(matrix(c(-74.983,40.07134), 1),c(-74.983,40.07164), longlat = TRUE)
spDistsN1(matrix(c(-74.983,40.07134), 1),c(-74.983,40.07124), longlat = TRUE)
spDistsN1(matrix(c(-74.983,40.07134), 1),c(-74.983,40.08134), longlat = TRUE)
log(145)/log(2)
1450 / 2^11
1450 / 2^12
ptsmat[36,]
str(lottdata)
dim(lottdata)
dim(lottdata)/91
apply(lottdata, 2, function(x) sum(!is.finite(x)))
sum(!is.finite(lottdata[,1]))
!is.finite(lottdata[1:10,1])
is.finite(lottdata[1,1])
is.finite(lottdata[10,1])
is.finite(lottdata[1,4])
str(lottdata)
str(lottdata[,4])
class(lottdata)
class(lottdata[,4])
lott = as.data.frame(lottdata)
sum(!is.finite(lott[,1]))
sum(!is.finite(lott[,2]))
sum(!is.finite(lott[,3]))
sum(!is.finite(lott[,4]))
sum(!is.finite(lott[,5]))
apply(lott, 2, function(x){sum(!is.finite(x))})
sum(lottdata[,4])
sum(is.na(lottdata[,4]))
is.finite(3)
is.finite(NA)
is.finite(NaN)
is.finite(Inf)
is.finite("3")
is.finite("4")
apply(lott, 2, function(x){sum(is.na(x))})
2 * 91
str(phillydata[['block']])
block_ind
str(phillydata[['blockgroup']])
specif_bg_ind
specif.bg.ind
specif.bg
phillydata[['blockgroup']][1145,]
phillydata[['blockgroup']][1:20,1:3]
sum(block.ind)
len(block.ind)
length(block.ind)
nrow(phillyblock)
x = phillydata[['block']]$violentcrime
length(x)
x
x = phillydata[['block']]$violentcrime
x
str(x)
class9x)
shapefile = phillyblock
colorgen = x
colors
colors[1]
colors(1)
colors(1,2)
colors(c(1,2))
colvec
dim(police)
xx = gContains(phillyblockgroup[specif.bg.ind,], pts)
