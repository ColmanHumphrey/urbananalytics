dim(business_frame)
dim(open_hours_bus)
names(business_frame)
hist(business_frame$total_open)
names(business_frame)
save(business_frame, file = '../../../data/business_frame.rdata')
names(open_hours_bus
)
cat_frame
sum(is.na(cat_frame$total_open)
)
getwd()
dim(open_hours_bus)
dim(open_hours_bus)
open_hours_bus[1:3,]
ls()
bus_types
lapply(bus_cat_dfs, dim)
lapply(bus_cat_dfs, class)
names(bus_cat_df)
names(bus_cat_dfs)
names(bus_cat_dfs)
lapply(bus_cat_dfs, dim)
lapply(bus_cat_dfs, dim)
names(bus_cat_dfs[[1]])
}
hours_list
bust_cats_dfs$gym
bust_cat_dfs$gym
bus_cat_dfs$gym
bus_cat_dfs$gym$weekend_night_open
hist(bus_cat_dfs$gym$weekend_night_open)
hours_list$gym
sum(bus_cat_dfs$gym$total_open == 43)
mean(bus_cat_dfs$gym$total_open <= 43)
mean(bus_cat_dfs$gym$total_open < 43)
hours_list
hours_list$gym
mean(bus_cat_dfs$gym$total_open < 43)
mean(bus_cat_dfs$gym$total_open <= 43)
mean(bus_cat_dfs$gym$total_open < 97)
mean(bus_cat_dfs$gym$total_open <= 97)
mean(bus_cat_dfs$gym$weekday_eve_open <= 20)
mean(bus_cat_dfs$gym$weekday_evening_open <= 20)
mean(bus_cat_dfs$gym$weekday_evening_open < 20)
time_name = time_names[1]
time_name
time_name
pull
time_name
class(time_name)
df
df = bus_cat_dfs[[1]]
dim(df)
hours
hours
type = 6
hours <- c(runif(100), rep(200, 500), runif(100, 1000, 10001))
hours_quant
joint_val
num_valid
hours_list
hours_list
hours_list
bus_cat_dfs$nightlift$weekend_nights_open
hh = bus_cat_dfs$nightlife$weekend_nights_open
hh = bus_cat_dfs$nightlife$weekend_night_open
hh
hist(hh)
sum(hh > 4)
mean(hh > 4)
names(business_frame)
bus_cat_dfs_total[1:3,]
bus_cat_dfs_total[[1]][1:3,]
bus_cat_dfs_total[[1]][1:3,]
names(hours_list_total)
hours_list_total$cafe
names(hours_list_total$cafe)
bus_cat_dfs_total[1:20,]
bus_cat_dfs_total[[2]][1:20,]
time_name = 'weekend'
bt = 'gym'
temphour
bus_cat_ll[['tota']][['retail']][1:50,]
bus_cat_ll[['total']][['retail']][1:50,]
temp_summary
temp_summary
temp_summary[1:20,]
class(temp_summary)
class(temp_summary)
temp_summary[1:20,]
dim(temp_summary)
temp_summary[1:20,]
temp_summary[1:20,]
crime[1:20,]
names(open_hours_bus)
length(unique(open_hours_bus$blockgroup_id)
)
bus_cat_ll[[2]][[3]][1:5,]
bus_cat_ll[[2]][[3]][1:5,]
temp_summary[1:10,]
class(temp_summary)
class(temp_summary)
temp_summary[1:10,]
temp_summary[1:20,]
dim(temp_summary)
use_blockgroup_id
bg_id = '2_1700'
dim(temp_frame)
temp_frame
temp_frame_short
temp_frame_long
temp_frame_long
dist_matrix
dim(dist_matrix)
temp_summary[1:3,]
bg = '1_1001'
dist_matrix
bg_id = '1_1001'
dist_mtarix
dist_matrix
dim(dist_matrix)
distGeo
?distGeo
length(dist_matrix)
nrow(temp_frame_short)
nrow(temp_frame_long)
dist_matrix
plot(temp_frame_short %>% select(lng, lat))
plot(County_geom)
points((temp_frame_short %>% select(lng, lat))
)
plot(temp_frame_short %>% select(lng, lat))
points(temp_frame_long %>% select(lng, lat), col = 3)
dist_matrix
dist_matrix
bus_ind
bus_ind
dist_matrix
dist_matrix
bus_ind
temp_summary
names(bus_cat_ll[[time_name]][[bt]])
length(use_blockgroup_id)
bg_id
temp_frame_short
dist_matrix
bus_unwrap
open_hours_frame[bus_unwrap,]
open_hours_bus[bus_unwrap,]
bt
df = bus_frame[[1]][[3]]
df = bus_cat_ll[[1]][[3]]
shortlong_index
shortlong_index
shortlong_index
df = bus_cat_ll[[time_name]][[bt]]
time_name
bt
dim(shortlong_index)
shortlong_index[1:30,]
use_blockgroup_id[3]
bg_id = '1_1002'
dist_matrix
dim(dist_matrix)
bus_ind
bus_ind
dim(bus_ind)
A = matrix(1:4, 2,2)
A
A = matrix(sample(1:3, 10, replace = TRUE), 2,5)
A
which(A == 2, arr.ind = TRUE)
xx = which(A == 2, arr.ind = TRUE)
A = matrix(sample(1:300, 10, replace = TRUE), 2,5)
A
yy = which(A == 36, arr.ind = TRUE)
yy
dim(yy)
dist_matrix[43:44,]
temp_frame_short[43:34,]
temp_frame_short[43:44,]
temp_frame_long[3:4,]
temp_frame_long[3:4,] %>% pull(lng)
temp_frame_long[3:4,] %>% pull(lat)
dist_matrix[43,4]
bus_ind
dist_matrix[43,4]
dist_matrix[44,4]
dist_matrix[44,4] - 140
dist_matrix[43,4] - 140
temp_frame_short[43:44,2:3]
plot(temp_frame_short[43:44,2:3])
distGeo(temp_frame_short[43,2:3], temp_frame_short[44,2:3])
distGeo(temp_frame_short[43,2:3], temp_frame_short[44,2:3]) * 10000
temp_frame_short[43,2:3] - temp_frame_short[44,2:3]
(temp_frame_short[43,2:3] - temp_frame_short[44,2:3]) * 10000
(temp_frame_short[43,2:3] - temp_frame_short[44,2:3]) * 1000000
temp_frame_short[43,]
temp_frame_short[43,2:3]
temp_frame_short$lng[43]
temp_frame_short$lng[44]
temp_frame_short$lng[43] - temp_frame_short$lng[44]
bus_ind
bus_ind
bus_ind
hh = 'quanquant_list)    
hh =  ShortLongPairs(bus_cat_ll[[time_name]][[bt]])        
hh
time_name
timevar = time_name_vec[time_name]
timevar
pairs_mat =                               shortlong_pairs_list[[time_name]][[bt]]
dim(open_frame_bus)
dim(open_short)
dim(open_long)
dim_res
bus_unique
bus_unique
blockgroup_id_equal
open_short$blockgroup_id[1:3]
open_long$blockgroup_id[1:3]
pairs_mat[1:3,]
open_hours_bus[1:3,]
dim_res
dim_res
bus_unique
blockgroup_id_equal
bt
bus_cat = bt
bus_cat_equal
dist_cat_140
hist(dist_cat_140)
hist(dist_cat_140, 100)
names(temphour)
hours_diff
hours_diff
min(hours_diff)
bt
temphour
df = bus_cat_ll[[time_name]][[bt]]
temp_summary
lapply(shortlong_pairs_list[[1]], dim)
lapply(shortlong_pairs_list[[2]], dim)
test_res[[1]][[2]]
test_res[[1]]
shortlong_pairs_list[[2]][[3]][1:10,]
crime[1:20,]
open_short[1:3,]
crime[1:3,]
table(crime$crime_cat)
dim(crime_v)
dim(crime_nv)
dim(open_short)
dim(open_long)
dim(crime_rel)
dim(crime_mat)
crime_mat[1:3,]
crime_mat[1:3,]
dim(crime_mat)
i = 1
dim(short_ind)
length(short_ind)
length(short_ind)
open_short$lng[i]
short_point
point = short_point
left_point
dist_away
dist = 70
left_pull
abs_diff
left_pull
left_point
dist_away
abs_diff
iters
while(iters < 10){iters = iters + 1}
iters
left_pull
right_pull
top_pul
top_pull
bottom_pull
worst_vec
table(pre_ind)
table(short_ind, pre_ind)
short_ind
max(pre_ind)
all_equal(pre_ind, FALSE)
i = 1
worst_vec
CompLLWorst(short_point, dist = 75)
CompLLWorst(short_point, dist = 75)
for(i in 1:1000){CompLLWorst(short_point, dist = 75)}
crime_ind
table(crime_rel$crime_cat[short_crime_ind])
table(crime_rel$crime_cat[short_crime_ind])
table(crime_rel$crime_cat[long_crime_ind])
length(numeric(0))
i = 1
dim(short_counts)
print_i = TRUE
diff_counts[1:50,]
hist(diff_counts[,3])
hist(diff_counts[,3], 100)
median(diff_counts[,3])
mean(diff_counts[,3])
for(i in 1:100){distGeo(p1 = short_point,
                                 p2 = crime_mat[pre_ind,]) < 70}
for(i in 1:100){CompLLWorst(short_point, dist = 75)}
diff_counts[1:3]
diff_counts[1:3,]
dim(bus_cat_ll[['total_open']]['cafe']])
dim(bus_cat_ll[['total_open']][['cafe']])
names(bus_cat_ll[['total_open']][['cafe']])
names(bus_cat_ll[['total']][['cafe']])
dim(bus_cat_ll[['total']][['cafe']])
shortlong_pairs_list[['total']][['cafe']][1:3,]
length(short_dist)
crime_count
short_crime_count
